<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>MVG</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="Menu/menu.css"/>
        <link rel="stylesheet" type="text/css" href="Footer/footer.css"/>
        <link rel="stylesheet" type="text/css" href="Fiche_Jeu/Style-Fiche-Jeu.css"/>
    </head>

    <body>
        <div class="ficheJeu">
            <div class="partieGauche">
                <h2 id="titreJeu"></h2>
                <img onclick="ouvrirModalGrosseImage()" id="imageJeu">
                <input type="submit" id="confirmationLocation" value="Prendre ce jeu">
            </div>
            <div class="partieDroite">
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h1 id="description">Informations du jeu</h1>
                            <p id="categorie">Action/Aventure</p>
                            <p id="date">Sortie le : 2019-01-25</p>
                            <p id="prix">79.99$</p>
                            <p id="studio">Studio de dévellopement : Square Enix</p>
                            <p id="editeur">Édité par : Square Enix</p>
                        </div>
                        <div class="flip-card-back">
                            <h3>Critiques</h3>
                            <p id="nombrePersonnesEtoiles"></p>
                            <div class="visuelEtoiles">
                                <img class="etoiles" id="etoileUn">
                                <img class="etoiles" id="etoileDeux">
                                <img class="etoiles" id="etoileTrois">
                                <img class="etoiles" id="etoileQuatre">
                                <img class="etoiles" id="etoileCinq">
                            </div>
                            <button onclick="ouvrirModalNouvelleNote()" id="boutonAjoutEtoile">Entrer une nouvelle note</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!--Le modal d'ajout d'étoiles -->
        <div id="ModalEtoile" class="modal">
            <div class="modal-content-Etoiles">
                <span class="close">&times;</span>
                <div class="infosModalEtoiles">
                    <h2 id="titreModalEtoile">Ajout d'une nouvelle note</h2>
                    <p id="indicationModalEtoile">(Appuyez sur l'étoile pour sélectionner le tout)</p>
                    <div class="dispositionEtoilesAccueil">
                        <img class="etoilesModal" id="etoileModalUn" onmouseover="hoverEtoile('etoileModalUn')" onmouseout="resetEtoiles()" onclick="setEtoiles('etoileModalUn')">
                        <img class="etoilesModal" id="etoileModalDeux" onmouseover="hoverEtoile('etoileModalDeux')" onmouseout="resetEtoiles()" onclick="setEtoiles('etoileModalDeux')">
                        <img class="etoilesModal" id="etoileModalTrois" onmouseover="hoverEtoile('etoileModalTrois')" onmouseout="resetEtoiles()" onclick="setEtoiles('etoileModalTrois')">
                        <img class="etoilesModal" id="etoileModalQuatre" onmouseover="hoverEtoile('etoileModalQuatre')" onmouseout="resetEtoiles()" onclick="setEtoiles('etoileModalQuatre')">
                        <img class="etoilesModal" id="etoileModalCinq" onmouseover="hoverEtoile('etoileModalCinq')" onmouseout="resetEtoiles()" onclick="setEtoiles('etoileModalCinq')">
                    </div>
                    <input type="button" id="boutonEtoile">
                </div>
            </div>
        </div>

        <!-- Le modal de zoom sur la photo-->
        <div id="ModalImage" class="modal">
            <div class="modal-content-Image">
                <img id="imageAgrandie">
            </div>
        </div>

    </body>

    <script>
        deleteCookies();
        document.cookie = "id=1"
        document.cookie = "nom=Kingdom Hearts 3";
        document.cookie = "nom_image=Kingdom-Hearts-III.jpg";
        document.cookie = "categorie=Action/Aventure";
        document.cookie = "date=2019-01-25";
        document.cookie = "prix=79.99";
        document.cookie = "studio=Square Enix";
        document.cookie = "editeur=Square Enix";
        document.cookie = "rating=90";
        document.cookie = "nombrePersonne=25";

        document.getElementById("titreJeu").innerHTML = getCookie("nom");
        document.getElementById("imageJeu").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/" + getCookie("nom_image");
        document.getElementById("categorie").innerHTML = getCookie("categorie");
        document.getElementById("date").innerHTML = "Sortie le : " + getCookie("date");
        document.getElementById("prix").innerHTML = getCookie("prix") + "$";
        document.getElementById("studio").innerHTML = "Studio de dévellopement : " + getCookie("studio");
        document.getElementById("editeur").innerHTML = "Édité par : " + getCookie("editeur");
        var nbrPersonnes = getCookie("nombrePersonne");
        document.getElementById("nombrePersonnesEtoiles").innerHTML = "(" + nbrPersonnes + " personnes ont notés ce jeu)";
        var rating = getCookie("rating");




        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        /* Pour clear tous les cookies */
        function deleteCookies() {
            var allCookies = document.cookie.split(';');

            // The "expire" attribute of every cookie is
            // Set to "Thu, 01 Jan 1970 00:00:00 GMT"
            for (var i = 0; i < allCookies.length; i++)
                document.cookie = allCookies[i] + "=;expires="
                    + new Date(0).toUTCString();

            displayCookies.innerHTML = document.cookie;

        }
        function displayCookies() {

            var displayCookies = document.getElementById("display");
            displayCookies.innerHTML = document.cookie;
        }

        /* Pour le nombre d'étoiles */
        var etoiles = Math.round(rating / nbrPersonnes);
        var etoilesModal = 1;
        var etoileModalUn = document.getElementById("etoileModalUn");
        var etoileModalDeux = document.getElementById("etoileModalDeux");
        var etoileModalTrois = document.getElementById("etoileModalTrois");
        var etoileModalQuatre = document.getElementById("etoileModalQuatre");
        var etoileModalCinq = document.getElementById("etoileModalCinq");

        switch (etoiles){
            case 0:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                break;
            case 1:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                break;
            case 2:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                break;
            case 3:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                break;
            case 4:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                break;
            case 5:
                document.getElementById("etoileUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                document.getElementById("etoileCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                break;
        }

        /* Pour les modals */

        // Ouvre le modal de création de jeux
        function ouvrirModalNouvelleNote(){
            var modal = document.getElementById("ModalEtoile");
            modal.style.display = "block";
            document.getElementById("etoileModalUn").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
            document.getElementById("etoileModalDeux").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
            document.getElementById("etoileModalTrois").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
            document.getElementById("etoileModalQuatre").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
            document.getElementById("etoileModalCinq").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
            document.getElementById("boutonEtoile").value = "Ajouter cette note";
        }

        function ouvrirModalGrosseImage(){
            var modal = document.getElementById("ModalImage");
            modal.style.display = "block";
            document.getElementById("imageAgrandie").src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/Kingdom-Hearts-III.jpg";
        }

        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            var modalEtoile = document.getElementById("ModalEtoile");
            modalEtoile.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            var modalEtoile = document.getElementById("ModalEtoile");
            var modalImage = document.getElementById("ModalImage");
            if (event.target == modalEtoile) {
                modalEtoile.style.display = "none";
            }
            if (event.target == modalImage) {
                modalImage.style.display = "none";
            }
        }

        /* Animations étoiles du modal */
        function hoverEtoile(id){
            switch (id){
                case "etoileModalUn":
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case "etoileModalDeux":
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case "etoileModalTrois":
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case "etoileModalQuatre":
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case "etoileModalCinq":
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    break;
            }
        }
        function resetEtoiles(){
            switch (etoilesModal){
                case 1:
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case 2:
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case 3:
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case 4:
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-blanche.png";
                    break;
                case 5:
                    etoileModalUn.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalDeux.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalTrois.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalQuatre.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    etoileModalCinq.src = "http://cours.cegep3r.info/H2021/420617RI/Equipe_1/Images/etoile-jaune.png";
                    break;
            }
        }
        function setEtoiles(id){
            switch (id){
                case "etoileModalUn":
                    etoilesModal = 1;
                    break;
                case "etoileModalDeux":
                    etoilesModal = 2;
                    break;
                case "etoileModalTrois":
                    etoilesModal = 3;
                    break;
                case "etoileModalQuatre":
                    etoilesModal = 4;
                    break;
                case "etoileModalCinq":
                    etoilesModal = 5;
                    break;
            }
            resetEtoiles();
        }

    </script>
</html>